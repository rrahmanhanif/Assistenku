<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Layanan | Assistenku</title>
  <link rel="stylesheet" href="style.css">
  <style>
    p, li {
      text-align: justify;
    }

    .konsultasi, .tarif, #lowongan {
      border-radius: 10px;
      padding: 20px;
      margin-top: 30px;
      text-align: center;
    }

    .konsultasi {
      background-color: #e6f0ff;
      border: 1px solid #bcd4ff;
    }

    .tarif {
      background-color: #fff8e6;
      border: 1px solid #ffdd99;
    }

    #lowongan {
      background-color: #e9ffe6;
      border: 1px solid #baffb0;
    }

    .btn {
      display: inline-block;
      background-color: #007bff;
      color: white;
      padding: 10px 20px;
      border-radius: 5px;
      text-decoration: none;
      margin: 10px;
      font-weight: bold;
    }

    .btn:hover {
      background-color: #0056b3;
    }

    #otpInput {
      padding: 10px;
      border-radius: 5px;
      border: 1px solid #ccc;
      width: 220px;
      margin-bottom: 10px;
    }

    #otpSection .btn {
      background-color: #ffa600;
    }

    #otpSection .btn:hover {
      background-color: #cc8500;
    }

    .tagline {
      text-align: center;
    }
  </style>
</head>
<body>
  <header>
    <div class="header-content">
      <img src="logo.png" alt="Logo Assistenku" class="logo">
      <h1>Assistenku</h1>
      <p class="tagline">Melayani Dengan Hati, Membantu Sepenuh Hati</p>
    </div>
    <nav>
      <a href="index.html">Beranda</a>
      <a href="profil.html">Profil</a>
      <a href="layanan.html" class="active">Layanan</a>
      <a href="karir.html">Karir</a>
      <a href="kontak.html">Kontak</a>
    </nav>
  </header>

  <main>
    <section>
      <h2>Layanan Kami</h2>
      <ul>
        <li>Asisten pribadi dan perawat lansia</li>
        <li>ART, baby sitter, dan petugas kebersihan</li>
        <li>Tukang kebun, pertukangan, dan sopir pribadi</li>
      </ul>
      <p>Kami memastikan seluruh tenaga kami berpengalaman dan terpercaya.</p>
    </section>

    <section class="konsultasi">
      <h2>Konsultasikan</h2>
      <p>
        Tertarik untuk konsultasi kebutuhan assisten yang terbaik untukmu? 
        Unduh formulir di bawah ini, isi formulirnya, lalu scan dan kirimkan kembali ke email kami.
      </p>
      <a href="https://drive.google.com/file/d/1Bx5RE9yJV1b1Myaz6TvfJHWfKWEzviE0/view?usp=drivesdk" 
         class="btn" target="_blank">Unduh Formulir</a>
      <a href="mailto:kontakassistenku@gmail.com" class="btn">Kirim ke Email</a>
    </section>

    <!-- ========== BAGIAN UNDUH TARIF LAYANAN ========== -->
    <section class="tarif">
      <h2>Unduh Tarif Layanan</h2>
      <p>
        Demi menjaga kerahasiaan tarif internal kami, Anda wajib masuk menggunakan OTP sebelum dapat mengunduh file tarif layanan.
      </p>

      <div id="otpSection">
        <input type="text" id="otpInput" placeholder="Masukkan Kode OTP" />
        <button class="btn" onclick="verifyOTP()">Verifikasi OTP</button>
      </div>

      <div id="tarifLink" style="display:none;">
        <a href="https://drive.google.com/file/d/1IlsMLZmoG-dQso164iUSP8Dw_Z-VCNtZ/view?usp=drive_link" 
           class="btn" target="_blank">Unduh Tarif Layanan</a>
      </div>
    </section>

  <footer>
    <p>© 2025 Assistenku. Semua Hak Dilindungi.</p>
  </footer>

  <!-- ========== SCRIPT INTEGRASI OTP ========== -->
  <script>
    // Mengecek status OTP di browser
    window.onload = function() {
      const verified = localStorage.getItem('otpVerified');
      if (verified === 'true') {
        document.getElementById('otpSection').style.display = 'none';
        document.getElementById('tarifLink').style.display = 'block';
        const lowongan = document.getElementById('lowongan');
        if (lowongan) lowongan.style.display = 'none';
      }
    }

    // Fungsi verifikasi OTP via kode.gs kamu
    async function verifyOTP() {
      const otp = document.getElementById('otpInput').value.trim();
      if (!otp) return alert('Masukkan kode OTP terlebih dahulu.');

      try {
        const response = await fetch('https://script.google.com/macros/s/AKfycbww1eFbBf2L93L7_gWM4idZnFY2aD_N9Avn1ciuHSxootrqLyy7AYNLEYThjam2RxUwTQ/exec?otp=' + otp);
        const result = await response.json();

        if (result.success) {
          alert('✅ Verifikasi berhasil!');
          localStorage.setItem('otpVerified', 'true');
          document.getElementById('otpSection').style.display = 'none';
          document.getElementById('tarifLink').style.display = 'block';
          const lowongan = document.getElementById('lowongan');
          if (lowongan) lowongan.style.display = 'none';
        } else {
          alert('❌ Kode OTP salah atau sudah kedaluwarsa.');
        }
      } catch (err) {
        alert('⚠️ Terjadi kesalahan saat memverifikasi OTP.');
      }
    }
  </script>
</body>
</html>

